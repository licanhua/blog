{"componentChunkName":"component---src-templates-blog-post-js","path":"/system-design/","result":{"data":{"site":{"siteMetadata":{"title":"Canhua's Blog"}},"markdownRemark":{"id":"13dd8d3c-4907-5289-83f0-c7471bf95cb9","excerpt":"Requirement Post, Delete, Search, Image&Video, Comment, Like CAP (Strong, Weak, or complete consistency, High Availability 99.999 Latency 95% returns 2 secondsâ€¦","html":"<h2>Requirement</h2>\n<ol>\n<li>Post, Delete, Search, Image&#x26;Video, Comment, Like</li>\n<li>CAP (Strong, Weak, or complete consistency, High Availability 99.999</li>\n<li>Latency 95% returns 2 seconds</li>\n<li>Read heavy, Write Heavy, and Read/Write ratio</li>\n<li>Scalability, Security, Monitor, Log, Failover</li>\n</ol>\n<h2>Estimation</h2>\n<p>Storage, request/second</p>\n<h2>High Level Design</h2>\n<p><svg aria-roledescription=\"flowchart-v2\" role=\"graphics-document document\" viewBox=\"-20.6484375 -8 557.7109375 597\" style=\"max-width: 557.7109375px;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" id=\"mermaid-0\"><style>#mermaid-0{font-family:arial,sans-serif;font-size:16px;fill:#333;}#mermaid-0 .error-icon{fill:#552222;}#mermaid-0 .error-text{fill:#552222;stroke:#552222;}#mermaid-0 .edge-thickness-normal{stroke-width:2px;}#mermaid-0 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-0 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-0 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-0 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-0 .marker{fill:#333333;stroke:#333333;}#mermaid-0 .marker.cross{stroke:#333333;}#mermaid-0 svg{font-family:arial,sans-serif;font-size:16px;}#mermaid-0 .label{font-family:arial,sans-serif;color:#333;}#mermaid-0 .cluster-label text{fill:#333;}#mermaid-0 .cluster-label span,#mermaid-0 p{color:#333;}#mermaid-0 .label text,#mermaid-0 span,#mermaid-0 p{fill:#333;color:#333;}#mermaid-0 .node rect,#mermaid-0 .node circle,#mermaid-0 .node ellipse,#mermaid-0 .node polygon,#mermaid-0 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-0 .flowchart-label text{text-anchor:middle;}#mermaid-0 .node .label{text-align:center;}#mermaid-0 .node.clickable{cursor:pointer;}#mermaid-0 .arrowheadPath{fill:#333333;}#mermaid-0 .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-0 .flowchart-link{stroke:#333333;fill:none;}#mermaid-0 .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaid-0 .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaid-0 .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#mermaid-0 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-0 .cluster text{fill:#333;}#mermaid-0 .cluster span,#mermaid-0 p{color:#333;}#mermaid-0 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-0 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-0 :root{--mermaid-font-family:arial,sans-serif;}</style><g><marker orient=\"auto\" markerHeight=\"12\" markerWidth=\"12\" markerUnits=\"userSpaceOnUse\" refY=\"5\" refX=\"6\" viewBox=\"0 0 10 10\" class=\"marker flowchart\" id=\"mermaid-0_flowchart-pointEnd\"><path style=\"stroke-width: 1; stroke-dasharray: 1, 0;\" class=\"arrowMarkerPath\" d=\"M 0 0 L 10 5 L 0 10 z\"></path></marker><marker orient=\"auto\" markerHeight=\"12\" markerWidth=\"12\" markerUnits=\"userSpaceOnUse\" refY=\"5\" refX=\"4.5\" viewBox=\"0 0 10 10\" class=\"marker flowchart\" id=\"mermaid-0_flowchart-pointStart\"><path style=\"stroke-width: 1; stroke-dasharray: 1, 0;\" class=\"arrowMarkerPath\" d=\"M 0 5 L 10 10 L 10 0 z\"></path></marker><marker orient=\"auto\" markerHeight=\"11\" markerWidth=\"11\" markerUnits=\"userSpaceOnUse\" refY=\"5\" refX=\"11\" viewBox=\"0 0 10 10\" class=\"marker flowchart\" id=\"mermaid-0_flowchart-circleEnd\"><circle style=\"stroke-width: 1; stroke-dasharray: 1, 0;\" class=\"arrowMarkerPath\" r=\"5\" cy=\"5\" cx=\"5\"></circle></marker><marker orient=\"auto\" markerHeight=\"11\" markerWidth=\"11\" markerUnits=\"userSpaceOnUse\" refY=\"5\" refX=\"-1\" viewBox=\"0 0 10 10\" class=\"marker flowchart\" id=\"mermaid-0_flowchart-circleStart\"><circle style=\"stroke-width: 1; stroke-dasharray: 1, 0;\" class=\"arrowMarkerPath\" r=\"5\" cy=\"5\" cx=\"5\"></circle></marker><marker orient=\"auto\" markerHeight=\"11\" markerWidth=\"11\" markerUnits=\"userSpaceOnUse\" refY=\"5.2\" refX=\"12\" viewBox=\"0 0 11 11\" class=\"marker cross flowchart\" id=\"mermaid-0_flowchart-crossEnd\"><path style=\"stroke-width: 2; stroke-dasharray: 1, 0;\" class=\"arrowMarkerPath\" d=\"M 1,1 l 9,9 M 10,1 l -9,9\"></path></marker><marker orient=\"auto\" markerHeight=\"11\" markerWidth=\"11\" markerUnits=\"userSpaceOnUse\" refY=\"5.2\" refX=\"-1\" viewBox=\"0 0 11 11\" class=\"marker cross flowchart\" id=\"mermaid-0_flowchart-crossStart\"><path style=\"stroke-width: 2; stroke-dasharray: 1, 0;\" class=\"arrowMarkerPath\" d=\"M 1,1 l 9,9 M 10,1 l -9,9\"></path></marker><g class=\"root\"><g class=\"clusters\"><g id=\"DB\" class=\"cluster default flowchart-label\"><rect height=\"166\" width=\"159.203125\" y=\"332\" x=\"-12.6484375\" ry=\"0\" rx=\"0\" style=\"\"></rect><g transform=\"translate(-12.6484375, 332)\" class=\"cluster-label\"><foreignObject height=\"18\" width=\"159.203125\"><div style=\"display: inline-block; white-space: nowrap;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\">Rep-Federation-Shard</span></div></foreignObject></g></g></g><g class=\"edgePaths\"><path marker-end=\"url(#mermaid-0_flowchart-pointEnd)\" style=\"fill:none;\" class=\"edge-thickness-normal edge-pattern-solid flowchart-link LS-Master LE-Slave\" id=\"L-Master-Slave-0\" d=\"M66.953125,390L66.953125,394.1666666666667C66.953125,398.3333333333333,66.953125,406.6666666666667,66.953125,414.1166666666666C66.953125,421.56666666666666,66.953125,428.1333333333334,66.953125,431.4166666666667L66.953125,434.7\"></path><path marker-end=\"url(#mermaid-0_flowchart-pointEnd)\" style=\"fill:none;\" class=\"edge-thickness-normal edge-pattern-solid flowchart-link LS-Client LE-CDN\" id=\"L-Client-CDN-0\" d=\"M410.16796875,28.18022516096696L422.3014322916667,33.15018763413914C434.4348958333333,38.120150107311304,458.7018229166667,48.06007505365565,470.8352864583333,59.9467041934945C482.96875,71.83333333333333,482.96875,85.66666666666667,482.96875,99.5C482.96875,113.33333333333333,482.96875,127.16666666666667,482.96875,141C482.96875,154.83333333333334,482.96875,168.66666666666666,482.96875,182.5C482.96875,196.33333333333334,482.96875,210.16666666666666,482.96875,224C482.96875,237.83333333333334,482.96875,251.66666666666666,482.96875,265.5C482.96875,279.3333333333333,482.96875,293.1666666666667,482.96875,304.25C482.96875,315.3333333333333,482.96875,323.6666666666667,482.96875,334.75C482.96875,345.8333333333333,482.96875,359.6666666666667,482.96875,373.5C482.96875,387.3333333333333,482.96875,401.1666666666667,482.96875,411.3666666666666C482.96875,421.56666666666666,482.96875,428.1333333333334,482.96875,431.4166666666667L482.96875,434.7\"></path><path marker-end=\"url(#mermaid-0_flowchart-pointEnd)\" style=\"fill:none;\" class=\"edge-thickness-normal edge-pattern-solid flowchart-link LS-Client LE-LB\" id=\"L-Client-LB-0\" d=\"M353.13671875,23.917790945373522L331.3001302083333,29.5981591211446C309.4635416666667,35.278527296915684,265.7903645833333,46.63926364845784,243.95377604166666,55.60296515756226C222.1171875,64.56666666666666,222.1171875,71.13333333333334,222.1171875,74.41666666666667L222.1171875,77.7\"></path><path marker-end=\"url(#mermaid-0_flowchart-pointEnd)\" style=\"fill:none;\" class=\"edge-thickness-normal edge-pattern-solid flowchart-link LS-Client LE-DNS\" id=\"L-Client-DNS-0\" d=\"M398.32163027108436,33L402.531046059237,37.166666666666664C406.74046184738955,41.333333333333336,415.1592934236948,49.666666666666664,419.3687092118474,57.11666666666667C423.578125,64.56666666666666,423.578125,71.13333333333334,423.578125,74.41666666666667L423.578125,77.7\"></path><path marker-end=\"url(#mermaid-0_flowchart-pointEnd)\" style=\"fill:none;\" class=\"edge-thickness-normal edge-pattern-solid flowchart-link LS-LB LE-WebServer\" id=\"L-LB-WebServer-0\" d=\"M222.1171875,116L222.1171875,120.16666666666667C222.1171875,124.33333333333333,222.1171875,132.66666666666666,222.18320390047458,140.20016975753654C222.24922030094913,147.73367284840646,222.3812531018983,154.4673456968129,222.44726950237285,157.83418212101614L222.51328590284743,161.20101854521937\"></path><path marker-end=\"url(#mermaid-0_flowchart-pointEnd)\" style=\"fill:none;\" class=\"edge-thickness-normal edge-pattern-solid flowchart-link LS-WebServer LE-WriteAPI\" id=\"L-WebServer-WriteAPI-0\" d=\"M165.0234375,198.40395750465737L148.67838541666666,202.66996458721448C132.33333333333334,206.93597166977156,99.64322916666667,215.46798583488578,83.29817708333333,223.01732625077625C66.953125,230.5666666666667,66.953125,237.13333333333333,66.953125,240.41666666666666L66.953125,243.7\"></path><path marker-end=\"url(#mermaid-0_flowchart-pointEnd)\" style=\"fill:none;\" class=\"edge-thickness-normal edge-pattern-solid flowchart-link LS-WebServer LE-ReadAPI\" id=\"L-WebServer-ReadAPI-0\" d=\"M219.5234375,199.5L218.65885416666666,203.58333333333334C217.79427083333334,207.66666666666666,216.06510416666666,215.83333333333334,215.20052083333334,226.83333333333334C214.3359375,237.83333333333334,214.3359375,251.66666666666666,214.3359375,265.5C214.3359375,279.3333333333333,214.3359375,293.1666666666667,214.3359375,304.25C214.3359375,315.3333333333333,214.3359375,323.6666666666667,214.3359375,331.1166666666667C214.3359375,338.56666666666666,214.3359375,345.1333333333334,214.3359375,348.4166666666667L214.3359375,351.7\"></path><path marker-end=\"url(#mermaid-0_flowchart-pointEnd)\" style=\"fill:none;\" class=\"edge-thickness-normal edge-pattern-solid flowchart-link LS-ReadAPI LE-Cache\" id=\"L-ReadAPI-Cache-0\" d=\"M214.3359375,390L214.3359375,394.1666666666667C214.3359375,398.3333333333333,214.3359375,406.6666666666667,214.3359375,414.1166666666666C214.3359375,421.56666666666666,214.3359375,428.1333333333334,214.3359375,431.4166666666667L214.3359375,434.7\"></path><path marker-end=\"url(#mermaid-0_flowchart-pointEnd)\" style=\"fill:none;\" class=\"edge-thickness-normal edge-pattern-solid flowchart-link LS-ReadAPI LE-Slave\" id=\"L-ReadAPI-Slave-0\" d=\"M169.04791039156626,390L157.61153990963854,394.1666666666667C146.17516942771084,398.3333333333333,123.3024284638554,406.6666666666667,109.0595605337265,414.3124732271128C94.81669260359762,421.95827978755887,89.20369770719522,428.9165595751176,86.39720025899403,432.395699468897L83.59070281079283,435.8748393626764\"></path><path marker-end=\"url(#mermaid-0_flowchart-pointEnd)\" style=\"fill:none;\" class=\"edge-thickness-normal edge-pattern-solid flowchart-link LS-WriteAPI LE-Master\" id=\"L-WriteAPI-Master-0\" d=\"M66.953125,282L66.953125,286.1666666666667C66.953125,290.3333333333333,66.953125,298.6666666666667,66.953125,307C66.953125,315.3333333333333,66.953125,323.6666666666667,66.953125,331.1166666666667C66.953125,338.56666666666666,66.953125,345.1333333333334,66.953125,348.4166666666667L66.953125,351.7\"></path><path marker-end=\"url(#mermaid-0_flowchart-pointEnd)\" style=\"fill:none;\" class=\"edge-thickness-normal edge-pattern-solid flowchart-link LS-WebServer LE-WriteAPIAsync\" id=\"L-WebServer-WriteAPIAsync-0\" d=\"M269.9987763554217,199.5L281.88049071285144,203.58333333333334C293.76220507028114,207.66666666666666,317.52563378514054,215.83333333333334,329.4073481425703,223.20000000000002C341.2890625,230.5666666666667,341.2890625,237.13333333333333,341.2890625,240.41666666666666L341.2890625,243.7\"></path><path marker-end=\"url(#mermaid-0_flowchart-pointEnd)\" style=\"fill:none;\" class=\"edge-thickness-normal edge-pattern-solid flowchart-link LS-WriteAPIAsync LE-Queue\" id=\"L-WriteAPIAsync-Queue-0\" d=\"M341.2890625,282L341.2890625,286.1666666666667C341.2890625,290.3333333333333,341.2890625,298.6666666666667,341.2890625,307C341.2890625,315.3333333333333,341.2890625,323.6666666666667,341.2890625,331.1166666666667C341.2890625,338.56666666666666,341.2890625,345.1333333333334,341.2890625,348.4166666666667L341.2890625,351.7\"></path><path marker-end=\"url(#mermaid-0_flowchart-pointEnd)\" style=\"fill:none;\" class=\"edge-thickness-normal edge-pattern-solid flowchart-link LS-Queue LE-Worker\" id=\"L-Queue-Worker-0\" d=\"M341.2890625,390L341.2890625,394.1666666666667C341.2890625,398.3333333333333,341.2890625,406.6666666666667,341.2890625,414.1166666666666C341.2890625,421.56666666666666,341.2890625,428.1333333333334,341.2890625,431.4166666666667L341.2890625,434.7\"></path><path marker-end=\"url(#mermaid-0_flowchart-pointEnd)\" style=\"fill:none;\" class=\"edge-thickness-normal edge-pattern-solid flowchart-link LS-Worker LE-NoSQL\" id=\"L-Worker-NoSQL-0\" d=\"M308.15625,472.5052289364798L299.3600260416667,476.75435744706647C290.5638020833333,481.00348595765325,272.9713541666667,489.5017429788266,264.1751302083333,497.91753815607996C255.37890625,506.3333333333333,255.37890625,514.6666666666666,255.37890625,522.1166666666667C255.37890625,529.5666666666667,255.37890625,536.1333333333333,255.37890625,539.4166666666666L255.37890625,542.7\"></path><path marker-end=\"url(#mermaid-0_flowchart-pointEnd)\" style=\"fill:none;\" class=\"edge-thickness-normal edge-pattern-solid flowchart-link LS-Worker LE-ObjectStore\" id=\"L-Worker-ObjectStore-0\" d=\"M372.17996987951807,473L379.9807040662651,477.1666666666667C387.781438253012,481.3333333333333,403.382906626506,489.6666666666667,411.183640813253,498C418.984375,506.3333333333333,418.984375,514.6666666666666,423.70417604046503,522.4616376932394C428.42397708093,530.2566087198119,437.86357916186006,537.5132174396239,442.5833802023251,541.1415217995299L447.3031812427901,544.7698261594358\"></path><path marker-end=\"url(#mermaid-0_flowchart-pointEnd)\" style=\"fill:none;\" class=\"edge-thickness-normal edge-pattern-solid flowchart-link LS-CDN LE-ObjectStore\" id=\"L-CDN-ObjectStore-0\" d=\"M482.96875,473L482.96875,477.1666666666667C482.96875,481.3333333333333,482.96875,489.6666666666667,482.96875,498C482.96875,506.3333333333333,482.96875,514.6666666666666,482.1716625930512,522.1412460721707C481.3745751861025,529.6158254776745,479.78040037220507,536.2316509553492,478.9833129652563,539.5395636941865L478.1862255583075,542.8474764330238\"></path></g><g class=\"edgeLabels\"><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: inline-block; white-space: nowrap;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: inline-block; white-space: nowrap;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: inline-block; white-space: nowrap;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: inline-block; white-space: nowrap;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: inline-block; white-space: nowrap;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: inline-block; white-space: nowrap;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: inline-block; white-space: nowrap;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: inline-block; white-space: nowrap;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: inline-block; white-space: nowrap;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: inline-block; white-space: nowrap;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: inline-block; white-space: nowrap;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: inline-block; white-space: nowrap;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: inline-block; white-space: nowrap;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: inline-block; white-space: nowrap;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: inline-block; white-space: nowrap;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: inline-block; white-space: nowrap;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g></g><g class=\"nodes\"><g transform=\"translate(66.953125, 456.5)\" id=\"flowchart-Slave-7\" class=\"node default default flowchart-label\"><rect height=\"33\" width=\"55.03125\" y=\"-16.5\" x=\"-27.515625\" ry=\"0\" rx=\"0\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-20.015625, -9)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"18\" width=\"40.03125\"><div style=\"display: inline-block; white-space: nowrap;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\">Slave</span></div></foreignObject></g></g><g transform=\"translate(66.953125, 373.5)\" id=\"flowchart-Master-6\" class=\"node default default flowchart-label\"><rect height=\"33\" width=\"63.90625\" y=\"-16.5\" x=\"-31.953125\" ry=\"0\" rx=\"0\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-24.453125, -9)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"18\" width=\"48.90625\"><div style=\"display: inline-block; white-space: nowrap;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\">Master</span></div></foreignObject></g></g><g transform=\"translate(381.65234375, 16.5)\" id=\"flowchart-Client-0\" class=\"node default default flowchart-label\"><rect height=\"33\" width=\"57.03125\" y=\"-16.5\" x=\"-28.515625\" ry=\"16.5\" rx=\"16.5\" style=\"\"></rect><g transform=\"translate(-16.890625, -9)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"18\" width=\"33.78125\"><div style=\"display: inline-block; white-space: nowrap;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\">User</span></div></foreignObject></g></g><g transform=\"translate(222.1171875, 182.5)\" id=\"flowchart-WebServer-1\" class=\"node default default flowchart-label\"><polygon style=\"\" transform=\"translate(-49.59375,16.5)\" class=\"label-container\" points=\"0,0 99.1875,0 99.1875,-33 0,-33 0,0 -8,0 107.1875,0 107.1875,-33 -8,-33 -8,0\"></polygon><g transform=\"translate(-42.09375, -9)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"18\" width=\"84.1875\"><div style=\"display: inline-block; white-space: nowrap;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\">Web Server</span></div></foreignObject></g></g><g transform=\"translate(341.2890625, 265.5)\" id=\"flowchart-WriteAPIAsync-2\" class=\"node default default flowchart-label\"><rect height=\"33\" width=\"136.78125\" y=\"-16.5\" x=\"-68.390625\" ry=\"16.5\" rx=\"16.5\" style=\"\"></rect><g transform=\"translate(-56.765625, -9)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"18\" width=\"113.53125\"><div style=\"display: inline-block; white-space: nowrap;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\">Write API Async</span></div></foreignObject></g></g><g transform=\"translate(472.96875, 564.5)\" id=\"flowchart-ObjectStore-3\" class=\"node default default flowchart-label\"><rect height=\"33\" width=\"112.1875\" y=\"-16.5\" x=\"-56.09375\" ry=\"16.5\" rx=\"16.5\" style=\"\"></rect><g transform=\"translate(-44.46875, -9)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"18\" width=\"88.9375\"><div style=\"display: inline-block; white-space: nowrap;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\">Object Store</span></div></foreignObject></g></g><g transform=\"translate(66.953125, 265.5)\" id=\"flowchart-WriteAPI-4\" class=\"node default default flowchart-label\"><rect height=\"33\" width=\"89.640625\" y=\"-16.5\" x=\"-44.8203125\" ry=\"16.5\" rx=\"16.5\" style=\"\"></rect><g transform=\"translate(-33.1953125, -9)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"18\" width=\"66.390625\"><div style=\"display: inline-block; white-space: nowrap;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\">Write API</span></div></foreignObject></g></g><g transform=\"translate(214.3359375, 373.5)\" id=\"flowchart-ReadAPI-5\" class=\"node default default flowchart-label\"><rect height=\"33\" width=\"90.859375\" y=\"-16.5\" x=\"-45.4296875\" ry=\"16.5\" rx=\"16.5\" style=\"\"></rect><g transform=\"translate(-33.8046875, -9)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"18\" width=\"67.609375\"><div style=\"display: inline-block; white-space: nowrap;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\">Read API</span></div></foreignObject></g></g><g transform=\"translate(482.96875, 456.5)\" id=\"flowchart-CDN-9\" class=\"node default default flowchart-label\"><rect height=\"33\" width=\"49.671875\" y=\"-16.5\" x=\"-24.8359375\" ry=\"0\" rx=\"0\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-17.3359375, -9)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"18\" width=\"34.671875\"><div style=\"display: inline-block; white-space: nowrap;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\">CDN</span></div></foreignObject></g></g><g transform=\"translate(222.1171875, 99.5)\" id=\"flowchart-LB-11\" class=\"node default default flowchart-label\"><rect height=\"33\" width=\"34.578125\" y=\"-16.5\" x=\"-17.2890625\" ry=\"0\" rx=\"0\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-9.7890625, -9)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"18\" width=\"19.578125\"><div style=\"display: inline-block; white-space: nowrap;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\">LB</span></div></foreignObject></g></g><g transform=\"translate(423.578125, 99.5)\" id=\"flowchart-DNS-13\" class=\"node default default flowchart-label\"><rect height=\"33\" width=\"48.78125\" y=\"-16.5\" x=\"-24.390625\" ry=\"0\" rx=\"0\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-16.890625, -9)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"18\" width=\"33.78125\"><div style=\"display: inline-block; white-space: nowrap;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\">DNS</span></div></foreignObject></g></g><g transform=\"translate(214.3359375, 456.5)\" id=\"flowchart-Cache-21\" class=\"node default default flowchart-label\"><rect height=\"33\" width=\"61.25\" y=\"-16.5\" x=\"-30.625\" ry=\"0\" rx=\"0\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-23.125, -9)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"18\" width=\"46.25\"><div style=\"display: inline-block; white-space: nowrap;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\">Cache</span></div></foreignObject></g></g><g transform=\"translate(341.2890625, 373.5)\" id=\"flowchart-Queue-29\" class=\"node default default flowchart-label\"><rect height=\"33\" width=\"63.046875\" y=\"-16.5\" x=\"-31.5234375\" ry=\"0\" rx=\"0\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-24.0234375, -9)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"18\" width=\"48.046875\"><div style=\"display: inline-block; white-space: nowrap;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\">Queue</span></div></foreignObject></g></g><g transform=\"translate(341.2890625, 456.5)\" id=\"flowchart-Worker-31\" class=\"node default default flowchart-label\"><rect height=\"33\" width=\"66.265625\" y=\"-16.5\" x=\"-33.1328125\" ry=\"0\" rx=\"0\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-25.6328125, -9)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"18\" width=\"51.265625\"><div style=\"display: inline-block; white-space: nowrap;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\">Worker</span></div></foreignObject></g></g><g transform=\"translate(255.37890625, 564.5)\" id=\"flowchart-NoSQL-33\" class=\"node default default flowchart-label\"><rect height=\"33\" width=\"67.46875\" y=\"-16.5\" x=\"-33.734375\" ry=\"0\" rx=\"0\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-26.234375, -9)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"18\" width=\"52.46875\"><div style=\"display: inline-block; white-space: nowrap;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\">NoSQL</span></div></foreignObject></g></g></g></g></g></svg></p>\n<h2>Component Design</h2>\n<h3>DB Schema</h3>\n<h3>API</h3>\n<h2>Bottlenecks</h2>\n<ol>\n<li>Load Balance, Data Sharding, In Memory DB</li>\n<li>Scale: Vertical/Horizatal, Cache(Application, DB Caching, In Memory), LB, DB rep, DB partition, Map-Reduce</li>\n</ol>","frontmatter":{"title":"System Design Interview","date":"May 21, 2022","description":"System Design Interview Preparation"}},"previous":{"fields":{"slug":"/algo/"},"frontmatter":{"title":"Trie, Heap and Binary Index Tree"}},"next":{"fields":{"slug":"/asp.dotnet-react-typescript/"},"frontmatter":{"title":"Create an ASP.NET Core app with React + Typescript in Visual Studio"}}},"pageContext":{"id":"13dd8d3c-4907-5289-83f0-c7471bf95cb9","previousPostId":"a22ea0a0-13fb-592a-8e62-f10049d1d758","nextPostId":"e07cf1de-4488-5435-82d2-0eef19ec5b79"}},"staticQueryHashes":["2841359383","3257411868"],"slicesMap":{}}
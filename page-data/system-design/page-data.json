{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/system-design/",
    "result": {"data":{"site":{"siteMetadata":{"title":"Canhua's Blog"}},"markdownRemark":{"id":"c0e06790-f68b-511f-b179-ec1f797a0ab9","excerpt":"Requirement Post, Delete, Search, Image&Video, Comment, Like CAP (Strong, Weak, or complete consistency, High Availability 99.999 Latency 95% returns 2 secondsâ€¦","html":"<h2>Requirement</h2>\n<ol>\n<li>Post, Delete, Search, Image&#x26;Video, Comment, Like</li>\n<li>CAP (Strong, Weak, or complete consistency, High Availability 99.999</li>\n<li>Latency 95% returns 2 seconds</li>\n<li>Read heavy, Write Heavy, and Read/Write ratio</li>\n<li>Scalability, Security, Monitor, Log, Failover</li>\n</ol>\n<h2>Estimation</h2>\n<p>Storage, request/second</p>\n<h2>High Level Design</h2>\n<div class=\"mermaid\" data-processed=\"true\"><svg id=\"mermaid-1653156461534\" width=\"100%\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" height=\"604\" style=\"max-width: 547.296875px;\" viewBox=\"0 0 547.296875 604\"><style>#mermaid-1653156461534 {font-family:\"trebuchet ms\",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-1653156461534 .error-icon{fill:#552222;}#mermaid-1653156461534 .error-text{fill:#552222;stroke:#552222;}#mermaid-1653156461534 .edge-thickness-normal{stroke-width:2px;}#mermaid-1653156461534 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-1653156461534 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-1653156461534 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-1653156461534 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-1653156461534 .marker{fill:#333333;stroke:#333333;}#mermaid-1653156461534 .marker.cross{stroke:#333333;}#mermaid-1653156461534 svg{font-family:\"trebuchet ms\",verdana,arial,sans-serif;font-size:16px;}#mermaid-1653156461534 .label{font-family:\"trebuchet ms\",verdana,arial,sans-serif;color:#333;}#mermaid-1653156461534 .cluster-label text{fill:#333;}#mermaid-1653156461534 .cluster-label span{color:#333;}#mermaid-1653156461534 .label text,#mermaid-1653156461534 span{fill:#333;color:#333;}#mermaid-1653156461534 .node rect,#mermaid-1653156461534 .node circle,#mermaid-1653156461534 .node ellipse,#mermaid-1653156461534 .node polygon,#mermaid-1653156461534 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-1653156461534 .node .label{text-align:center;}#mermaid-1653156461534 .node.clickable{cursor:pointer;}#mermaid-1653156461534 .arrowheadPath{fill:#333333;}#mermaid-1653156461534 .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-1653156461534 .flowchart-link{stroke:#333333;fill:none;}#mermaid-1653156461534 .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaid-1653156461534 .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaid-1653156461534 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-1653156461534 .cluster text{fill:#333;}#mermaid-1653156461534 .cluster span{color:#333;}#mermaid-1653156461534 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:\"trebuchet ms\",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-1653156461534 :root{--mermaid-font-family:\"trebuchet ms\",verdana,arial,sans-serif;}</style><g transform=\"translate(0, 0)\"><marker id=\"flowchart-pointEnd\" class=\"marker flowchart\" viewBox=\"0 0 10 10\" refX=\"9\" refY=\"5\" markerUnits=\"userSpaceOnUse\" markerWidth=\"12\" markerHeight=\"12\" orient=\"auto\"><path d=\"M 0 0 L 10 5 L 0 10 z\" class=\"arrowMarkerPath\" style=\"stroke-width: 1; stroke-dasharray: 1, 0;\"></path></marker><marker id=\"flowchart-pointStart\" class=\"marker flowchart\" viewBox=\"0 0 10 10\" refX=\"0\" refY=\"5\" markerUnits=\"userSpaceOnUse\" markerWidth=\"12\" markerHeight=\"12\" orient=\"auto\"><path d=\"M 0 5 L 10 10 L 10 0 z\" class=\"arrowMarkerPath\" style=\"stroke-width: 1; stroke-dasharray: 1, 0;\"></path></marker><marker id=\"flowchart-circleEnd\" class=\"marker flowchart\" viewBox=\"0 0 10 10\" refX=\"11\" refY=\"5\" markerUnits=\"userSpaceOnUse\" markerWidth=\"11\" markerHeight=\"11\" orient=\"auto\"><circle cx=\"5\" cy=\"5\" r=\"5\" class=\"arrowMarkerPath\" style=\"stroke-width: 1; stroke-dasharray: 1, 0;\"></circle></marker><marker id=\"flowchart-circleStart\" class=\"marker flowchart\" viewBox=\"0 0 10 10\" refX=\"-1\" refY=\"5\" markerUnits=\"userSpaceOnUse\" markerWidth=\"11\" markerHeight=\"11\" orient=\"auto\"><circle cx=\"5\" cy=\"5\" r=\"5\" class=\"arrowMarkerPath\" style=\"stroke-width: 1; stroke-dasharray: 1, 0;\"></circle></marker><marker id=\"flowchart-crossEnd\" class=\"marker cross flowchart\" viewBox=\"0 0 11 11\" refX=\"12\" refY=\"5.2\" markerUnits=\"userSpaceOnUse\" markerWidth=\"11\" markerHeight=\"11\" orient=\"auto\"><path d=\"M 1,1 l 9,9 M 10,1 l -9,9\" class=\"arrowMarkerPath\" style=\"stroke-width: 2; stroke-dasharray: 1, 0;\"></path></marker><marker id=\"flowchart-crossStart\" class=\"marker cross flowchart\" viewBox=\"0 0 11 11\" refX=\"-1\" refY=\"5.2\" markerUnits=\"userSpaceOnUse\" markerWidth=\"11\" markerHeight=\"11\" orient=\"auto\"><path d=\"M 1,1 l 9,9 M 10,1 l -9,9\" class=\"arrowMarkerPath\" style=\"stroke-width: 2; stroke-dasharray: 1, 0;\"></path></marker><g class=\"root\"><g class=\"clusters\"><g class=\"cluster default\" id=\"DB\"><rect style=\"\" rx=\"0\" ry=\"0\" x=\"-3.5625\" y=\"344\" width=\"155.65625\" height=\"168\"></rect><g class=\"cluster-label\" transform=\"translate(-3.5625, 349)\"><foreignObject width=\"155.65625\" height=\"19\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\"><span class=\"nodeLabel\">Rep-Federation-Shard</span></div></foreignObject></g></g></g><g class=\"edgePaths\"><path d=\"M74.265625,403L74.265625,407.1666666666667C74.265625,411.3333333333333,74.265625,419.6666666666667,74.265625,428C74.265625,436.3333333333333,74.265625,444.6666666666667,74.265625,448.8333333333333L74.265625,453\" id=\"L-Master-Slave-0\" class=\" edge-thickness-normal edge-pattern-solid flowchart-link LS-Master LE-Slave\" style=\"fill:none;\" marker-end=\"url(#flowchart-pointEnd)\"></path><path d=\"M409.46875,36.766782773907536L421.30859375,41.80565231158962C433.1484375,46.84452184927169,456.828125,56.92226092463585,468.66796875,68.96113046231793C480.5078125,81,480.5078125,95,480.5078125,109C480.5078125,123,480.5078125,137,480.5078125,151C480.5078125,165,480.5078125,179,480.5078125,193C480.5078125,207,480.5078125,221,480.5078125,235C480.5078125,249,480.5078125,263,480.5078125,277C480.5078125,291,480.5078125,305,480.5078125,316.1666666666667C480.5078125,327.3333333333333,480.5078125,335.6666666666667,480.5078125,346.8333333333333C480.5078125,358,480.5078125,372,480.5078125,386C480.5078125,400,480.5078125,414,480.5078125,425.1666666666667C480.5078125,436.3333333333333,480.5078125,444.6666666666667,480.5078125,448.8333333333333L480.5078125,453\" id=\"L-Client-CDN-0\" class=\" edge-thickness-normal edge-pattern-solid flowchart-link LS-Client LE-CDN\" style=\"fill:none;\" marker-end=\"url(#flowchart-pointEnd)\"></path><path d=\"M354.171875,32.44847285209591L332.7962239583333,38.20706071007992C311.4205729166667,43.96564856806393,268.6692708333333,55.48282428403197,247.29361979166666,65.40807880868265C225.91796875,75.33333333333333,225.91796875,83.66666666666667,225.91796875,87.83333333333333L225.91796875,92\" id=\"L-Client-LB-0\" class=\" edge-thickness-normal edge-pattern-solid flowchart-link LS-Client LE-LB\" style=\"fill:none;\" marker-end=\"url(#flowchart-pointEnd)\"></path><path d=\"M398.953125,42L403.15234375,46.166666666666664C407.3515625,50.333333333333336,415.75,58.666666666666664,419.94921875,67C424.1484375,75.33333333333333,424.1484375,83.66666666666667,424.1484375,87.83333333333333L424.1484375,92\" id=\"L-Client-DNS-0\" class=\" edge-thickness-normal edge-pattern-solid flowchart-link LS-Client LE-DNS\" style=\"fill:none;\" marker-end=\"url(#flowchart-pointEnd)\"></path><path d=\"M225.91796875,126L225.91796875,130.16666666666666C225.91796875,134.33333333333334,225.91796875,142.66666666666666,226.00130208333334,151.08333333333334C226.08463541666666,159.5,226.25130208333334,168,226.33463541666666,172.25L226.41796875,176.5\" id=\"L-LB-WebServer-0\" class=\" edge-thickness-normal edge-pattern-solid flowchart-link LS-LB LE-WebServer\" style=\"fill:none;\" marker-end=\"url(#flowchart-pointEnd)\"></path><path d=\"M170.52734375,208.97886562089482L154.48372395833334,213.3157213507457C138.44010416666666,217.65257708059653,106.35286458333333,226.32628854029826,90.30924479166667,234.8298109368158C74.265625,243.33333333333334,74.265625,251.66666666666666,74.265625,255.83333333333334L74.265625,260\" id=\"L-WebServer-WriteAPI-0\" class=\" edge-thickness-normal edge-pattern-solid flowchart-link LS-WebServer LE-WriteAPI\" style=\"fill:none;\" marker-end=\"url(#flowchart-pointEnd)\"></path><path d=\"M223.396484375,210.5L222.57259114583334,214.58333333333334C221.74869791666666,218.66666666666666,220.10091145833334,226.83333333333334,219.27701822916666,237.91666666666666C218.453125,249,218.453125,263,218.453125,277C218.453125,291,218.453125,305,218.453125,316.1666666666667C218.453125,327.3333333333333,218.453125,335.6666666666667,218.453125,344C218.453125,352.3333333333333,218.453125,360.6666666666667,218.453125,364.8333333333333L218.453125,369\" id=\"L-WebServer-ReadAPI-0\" class=\" edge-thickness-normal edge-pattern-solid flowchart-link LS-WebServer LE-ReadAPI\" style=\"fill:none;\" marker-end=\"url(#flowchart-pointEnd)\"></path><path d=\"M218.453125,403L218.453125,407.1666666666667C218.453125,411.3333333333333,218.453125,419.6666666666667,218.453125,428C218.453125,436.3333333333333,218.453125,444.6666666666667,218.453125,448.8333333333333L218.453125,453\" id=\"L-ReadAPI-Cache-0\" class=\" edge-thickness-normal edge-pattern-solid flowchart-link LS-ReadAPI LE-Cache\" style=\"fill:none;\" marker-end=\"url(#flowchart-pointEnd)\"></path><path d=\"M175.53125,402.23271192402393L164.17578125,406.52725993668656C152.8203125,410.8218079493493,130.109375,419.4109039746747,115.4669208829365,427.872118654004C100.82446676587301,436.3333333333333,94.25049603174602,444.6666666666667,90.96351066468254,448.8333333333333L87.67652529761905,453\" id=\"L-ReadAPI-Slave-0\" class=\" edge-thickness-normal edge-pattern-solid flowchart-link LS-ReadAPI LE-Slave\" style=\"fill:none;\" marker-end=\"url(#flowchart-pointEnd)\"></path><path d=\"M74.265625,294L74.265625,298.1666666666667C74.265625,302.3333333333333,74.265625,310.6666666666667,74.265625,319C74.265625,327.3333333333333,74.265625,335.6666666666667,74.265625,344C74.265625,352.3333333333333,74.265625,360.6666666666667,74.265625,364.8333333333333L74.265625,369\" id=\"L-WriteAPI-Master-0\" class=\" edge-thickness-normal edge-pattern-solid flowchart-link LS-WriteAPI LE-Master\" style=\"fill:none;\" marker-end=\"url(#flowchart-pointEnd)\"></path><path d=\"M273.3023623511905,210.5L284.71030195932536,214.58333333333334C296.1182415674603,218.66666666666666,318.9341207837302,226.83333333333334,330.34206039186506,235.08333333333334C341.75,243.33333333333334,341.75,251.66666666666666,341.75,255.83333333333334L341.75,260\" id=\"L-WebServer-WriteAPIAsync-0\" class=\" edge-thickness-normal edge-pattern-solid flowchart-link LS-WebServer LE-WriteAPIAsync\" style=\"fill:none;\" marker-end=\"url(#flowchart-pointEnd)\"></path><path d=\"M341.75,294L341.75,298.1666666666667C341.75,302.3333333333333,341.75,310.6666666666667,341.75,319C341.75,327.3333333333333,341.75,335.6666666666667,341.75,344C341.75,352.3333333333333,341.75,360.6666666666667,341.75,364.8333333333333L341.75,369\" id=\"L-WriteAPIAsync-Queue-0\" class=\" edge-thickness-normal edge-pattern-solid flowchart-link LS-WriteAPIAsync LE-Queue\" style=\"fill:none;\" marker-end=\"url(#flowchart-pointEnd)\"></path><path d=\"M341.75,403L341.75,407.1666666666667C341.75,411.3333333333333,341.75,419.6666666666667,341.75,428C341.75,436.3333333333333,341.75,444.6666666666667,341.75,448.8333333333333L341.75,453\" id=\"L-Queue-Worker-0\" class=\" edge-thickness-normal edge-pattern-solid flowchart-link LS-Queue LE-Worker\" style=\"fill:none;\" marker-end=\"url(#flowchart-pointEnd)\"></path><path d=\"M308.890625,486.5987315010571L300.509765625,490.83227625088097C292.12890625,495.0658210007047,275.3671875,503.53291050035233,266.986328125,511.9331219168428C258.60546875,520.3333333333334,258.60546875,528.6666666666666,258.60546875,537C258.60546875,545.3333333333334,258.60546875,553.6666666666666,258.60546875,557.8333333333334L258.60546875,562\" id=\"L-Worker-NoSQL-0\" class=\" edge-thickness-normal edge-pattern-solid flowchart-link LS-Worker LE-NoSQL\" style=\"fill:none;\" marker-end=\"url(#flowchart-pointEnd)\"></path><path d=\"M372.5846354166667,487L380.14214409722223,491.1666666666667C387.6996527777778,495.3333333333333,402.8146701388889,503.6666666666667,410.3721788194445,512C417.9296875,520.3333333333334,417.9296875,528.6666666666666,423.14577132936506,537C428.3618551587301,545.3333333333334,438.7940228174603,553.6666666666666,444.01010664682536,557.8333333333334L449.2261904761905,562\" id=\"L-Worker-ObjectStore-0\" class=\" edge-thickness-normal edge-pattern-solid flowchart-link LS-Worker LE-ObjectStore\" style=\"fill:none;\" marker-end=\"url(#flowchart-pointEnd)\"></path><path d=\"M480.5078125,487L480.5078125,491.1666666666667C480.5078125,495.3333333333333,480.5078125,503.6666666666667,480.5078125,512C480.5078125,520.3333333333334,480.5078125,528.6666666666666,479.51574900793656,537C478.523685515873,545.3333333333334,476.539558531746,553.6666666666666,475.5474950396826,557.8333333333334L474.55543154761904,562\" id=\"L-CDN-ObjectStore-0\" class=\" edge-thickness-normal edge-pattern-solid flowchart-link LS-CDN LE-ObjectStore\" style=\"fill:none;\" marker-end=\"url(#flowchart-pointEnd)\"></path></g><g class=\"edgeLabels\"><g class=\"edgeLabel\"><g class=\"label\" transform=\"translate(0, 0)\"><foreignObject width=\"0\" height=\"0\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g class=\"label\" transform=\"translate(0, 0)\"><foreignObject width=\"0\" height=\"0\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g class=\"label\" transform=\"translate(0, 0)\"><foreignObject width=\"0\" height=\"0\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g class=\"label\" transform=\"translate(0, 0)\"><foreignObject width=\"0\" height=\"0\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g class=\"label\" transform=\"translate(0, 0)\"><foreignObject width=\"0\" height=\"0\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g class=\"label\" transform=\"translate(0, 0)\"><foreignObject width=\"0\" height=\"0\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g class=\"label\" transform=\"translate(0, 0)\"><foreignObject width=\"0\" height=\"0\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g class=\"label\" transform=\"translate(0, 0)\"><foreignObject width=\"0\" height=\"0\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g class=\"label\" transform=\"translate(0, 0)\"><foreignObject width=\"0\" height=\"0\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g class=\"label\" transform=\"translate(0, 0)\"><foreignObject width=\"0\" height=\"0\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g class=\"label\" transform=\"translate(0, 0)\"><foreignObject width=\"0\" height=\"0\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g class=\"label\" transform=\"translate(0, 0)\"><foreignObject width=\"0\" height=\"0\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g class=\"label\" transform=\"translate(0, 0)\"><foreignObject width=\"0\" height=\"0\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g class=\"label\" transform=\"translate(0, 0)\"><foreignObject width=\"0\" height=\"0\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g class=\"label\" transform=\"translate(0, 0)\"><foreignObject width=\"0\" height=\"0\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g class=\"label\" transform=\"translate(0, 0)\"><foreignObject width=\"0\" height=\"0\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g></g><g class=\"nodes\"><g class=\"node default default\" id=\"flowchart-Slave-45\" transform=\"translate(74.265625, 470)\"><rect class=\"basic label-container\" style=\"\" rx=\"0\" ry=\"0\" x=\"-26.1953125\" y=\"-17\" width=\"52.390625\" height=\"34\"></rect><g class=\"label\" style=\"\" transform=\"translate(-18.6953125, -9.5)\"><foreignObject width=\"37.390625\" height=\"19\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\"><span class=\"nodeLabel\">Slave</span></div></foreignObject></g></g><g class=\"node default default\" id=\"flowchart-Master-44\" transform=\"translate(74.265625, 386)\"><rect class=\"basic label-container\" style=\"\" rx=\"0\" ry=\"0\" x=\"-31.265625\" y=\"-17\" width=\"62.53125\" height=\"34\"></rect><g class=\"label\" style=\"\" transform=\"translate(-23.765625, -9.5)\"><foreignObject width=\"47.53125\" height=\"19\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\"><span class=\"nodeLabel\">Master</span></div></foreignObject></g></g><g class=\"node default default\" id=\"flowchart-Client-38\" transform=\"translate(381.8203125, 25)\"><rect style=\"\" rx=\"17\" ry=\"17\" x=\"-27.6484375\" y=\"-17\" width=\"55.296875\" height=\"34\"></rect><g class=\"label\" style=\"\" transform=\"translate(-15.8984375, -9.5)\"><foreignObject width=\"31.796875\" height=\"19\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\"><span class=\"nodeLabel\">User</span></div></foreignObject></g></g><g class=\"node default default\" id=\"flowchart-WebServer-39\" transform=\"translate(225.91796875, 193)\"><polygon points=\"0,0 95.78125,0 95.78125,-34 0,-34 0,0 -8,0 103.78125,0 103.78125,-34 -8,-34 -8,0\" class=\"label-container\" transform=\"translate(-47.890625,17)\" style=\"\"></polygon><g class=\"label\" style=\"\" transform=\"translate(-40.390625, -9.5)\"><foreignObject width=\"80.78125\" height=\"19\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\"><span class=\"nodeLabel\">Web Server</span></div></foreignObject></g></g><g class=\"node default default\" id=\"flowchart-WriteAPIAsync-40\" transform=\"translate(341.75, 277)\"><rect style=\"\" rx=\"17\" ry=\"17\" x=\"-67.5546875\" y=\"-17\" width=\"135.109375\" height=\"34\"></rect><g class=\"label\" style=\"\" transform=\"translate(-55.8046875, -9.5)\"><foreignObject width=\"111.609375\" height=\"19\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\"><span class=\"nodeLabel\">Write API Async</span></div></foreignObject></g></g><g class=\"node default default\" id=\"flowchart-ObjectStore-41\" transform=\"translate(470.5078125, 579)\"><rect style=\"\" rx=\"17\" ry=\"17\" x=\"-57.2265625\" y=\"-17\" width=\"114.453125\" height=\"34\"></rect><g class=\"label\" style=\"\" transform=\"translate(-45.4765625, -9.5)\"><foreignObject width=\"90.953125\" height=\"19\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\"><span class=\"nodeLabel\">Object Store</span></div></foreignObject></g></g><g class=\"node default default\" id=\"flowchart-WriteAPI-42\" transform=\"translate(74.265625, 277)\"><rect style=\"\" rx=\"17\" ry=\"17\" x=\"-44.90625\" y=\"-17\" width=\"89.8125\" height=\"34\"></rect><g class=\"label\" style=\"\" transform=\"translate(-33.15625, -9.5)\"><foreignObject width=\"66.3125\" height=\"19\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\"><span class=\"nodeLabel\">Write API</span></div></foreignObject></g></g><g class=\"node default default\" id=\"flowchart-ReadAPI-43\" transform=\"translate(218.453125, 386)\"><rect style=\"\" rx=\"17\" ry=\"17\" x=\"-42.921875\" y=\"-17\" width=\"85.84375\" height=\"34\"></rect><g class=\"label\" style=\"\" transform=\"translate(-31.171875, -9.5)\"><foreignObject width=\"62.34375\" height=\"19\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\"><span class=\"nodeLabel\">Read API</span></div></foreignObject></g></g><g class=\"node default default\" id=\"flowchart-CDN-47\" transform=\"translate(480.5078125, 470)\"><rect class=\"basic label-container\" style=\"\" rx=\"0\" ry=\"0\" x=\"-22.296875\" y=\"-17\" width=\"44.59375\" height=\"34\"></rect><g class=\"label\" style=\"\" transform=\"translate(-14.796875, -9.5)\"><foreignObject width=\"29.59375\" height=\"19\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\"><span class=\"nodeLabel\">CDN</span></div></foreignObject></g></g><g class=\"node default default\" id=\"flowchart-LB-49\" transform=\"translate(225.91796875, 109)\"><rect class=\"basic label-container\" style=\"\" rx=\"0\" ry=\"0\" x=\"-16.078125\" y=\"-17\" width=\"32.15625\" height=\"34\"></rect><g class=\"label\" style=\"\" transform=\"translate(-8.578125, -9.5)\"><foreignObject width=\"17.15625\" height=\"19\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\"><span class=\"nodeLabel\">LB</span></div></foreignObject></g></g><g class=\"node default default\" id=\"flowchart-DNS-51\" transform=\"translate(424.1484375, 109)\"><rect class=\"basic label-container\" style=\"\" rx=\"0\" ry=\"0\" x=\"-21.359375\" y=\"-17\" width=\"42.71875\" height=\"34\"></rect><g class=\"label\" style=\"\" transform=\"translate(-13.859375, -9.5)\"><foreignObject width=\"27.71875\" height=\"19\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\"><span class=\"nodeLabel\">DNS</span></div></foreignObject></g></g><g class=\"node default default\" id=\"flowchart-Cache-59\" transform=\"translate(218.453125, 470)\"><rect class=\"basic label-container\" style=\"\" rx=\"0\" ry=\"0\" x=\"-29.1875\" y=\"-17\" width=\"58.375\" height=\"34\"></rect><g class=\"label\" style=\"\" transform=\"translate(-21.6875, -9.5)\"><foreignObject width=\"43.375\" height=\"19\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\"><span class=\"nodeLabel\">Cache</span></div></foreignObject></g></g><g class=\"node default default\" id=\"flowchart-Queue-67\" transform=\"translate(341.75, 386)\"><rect class=\"basic label-container\" style=\"\" rx=\"0\" ry=\"0\" x=\"-30.375\" y=\"-17\" width=\"60.75\" height=\"34\"></rect><g class=\"label\" style=\"\" transform=\"translate(-22.875, -9.5)\"><foreignObject width=\"45.75\" height=\"19\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\"><span class=\"nodeLabel\">Queue</span></div></foreignObject></g></g><g class=\"node default default\" id=\"flowchart-Worker-69\" transform=\"translate(341.75, 470)\"><rect class=\"basic label-container\" style=\"\" rx=\"0\" ry=\"0\" x=\"-32.859375\" y=\"-17\" width=\"65.71875\" height=\"34\"></rect><g class=\"label\" style=\"\" transform=\"translate(-25.359375, -9.5)\"><foreignObject width=\"50.71875\" height=\"19\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\"><span class=\"nodeLabel\">Worker</span></div></foreignObject></g></g><g class=\"node default default\" id=\"flowchart-NoSQL-71\" transform=\"translate(258.60546875, 579)\"><rect class=\"basic label-container\" style=\"\" rx=\"0\" ry=\"0\" x=\"-30.203125\" y=\"-17\" width=\"60.40625\" height=\"34\"></rect><g class=\"label\" style=\"\" transform=\"translate(-22.703125, -9.5)\"><foreignObject width=\"45.40625\" height=\"19\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\"><span class=\"nodeLabel\">NoSQL</span></div></foreignObject></g></g></g></g></g></svg></div>\n<h2>Component Design</h2>\n<h3>DB Schema</h3>\n<h3>API</h3>\n<h2>Bottlenecks</h2>\n<ol>\n<li>Load Balance, Data Sharding, In Memory DB</li>\n<li>Scale: Vertical/Horizatal, Cache(Application, DB Caching, In Memory), LB, DB rep, DB partition, Map-Reduce</li>\n</ol>","frontmatter":{"title":"System Design Interview","date":"May 21, 2022","description":"System Design Interview Preparation"}},"previous":{"fields":{"slug":"/algo/"},"frontmatter":{"title":"Trie, Heap and Binary Index Tree"}},"next":{"fields":{"slug":"/asp.dotnet-react-typescript/"},"frontmatter":{"title":"Create an ASP.NET Core app with React + Typescript in Visual Studio"}}},"pageContext":{"id":"c0e06790-f68b-511f-b179-ec1f797a0ab9","previousPostId":"68971259-62af-5be4-aeca-7d9640cac25e","nextPostId":"8bb22699-06a1-5832-be05-8e67fe1a3d51"}},
    "staticQueryHashes": ["2841359383","3257411868"]}
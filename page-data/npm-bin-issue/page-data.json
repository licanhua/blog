{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/npm-bin-issue/",
    "result": {"data":{"site":{"siteMetadata":{"title":"Canhua's Blog"}},"markdownRemark":{"id":"2b86dadf-7be9-5809-93eb-03108ab2b6bc","excerpt":"Do you believe  will impact the npm shortcut on Windows?\r\nYes, it did. I created npmjs clang-format-launcher package, and I expect to run it with  or , then I…","html":"<p>Do you believe <code class=\"language-text\"> #!/usr/bin/env node</code> will impact the npm shortcut on Windows?\r\nYes, it did.</p>\n<p>I created npmjs <a href=\"https://github.com/licanhua/clang-format-launcher\">clang-format-launcher</a> package, and I expect to run it with <code class=\"language-text\">npx clang-format-launcher</code> or <code class=\"language-text\">clang-format-launcher</code>, then I run into\r\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 470px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 35.44303797468354%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABJ0AAASdAHeZh94AAABJ0lEQVQoz6WS3U6DQBCFedO+TS/0UfoM3pZojJTSC5Dlp6WwwCIsbcq24PYYpmJM9MY4yeTMTGYnJ1/WwBjX66fc9D9hxIsFrPs7hK4Lz/MhZQvZNDgcDjgejzidTqRt26Kpb3MpJc3qukYrJfXju2F4h2HO53iYzeBvNrBtB87awfPjE6wXCytrBcdeg70yCCGQ7lOUpUDOOURZIkszlHlBfZZx9P0Ao+97DOczoiBEwCI0dQ3OC6IwLlwuF+g/oDCmIvB97JIUZ9UhjmJU1RsqMbrJUYnqB9+x11qTfk/jqm+LIWNwXY+YmKaJ5dIEYwEdFKWAUgqqU+SYXGv9dXhKcjgVI5MojNA0EskuwW67BeecuBV5gW0UE0ueZUiSPbpO/fozPgAzkBQECrdq7AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Microsoft JScript compilation error\"\n        title=\"Microsoft JScript compilation error\"\n        src=\"/static/73ff5d02ee9017956ed6adc7f46a688c/f96db/issue.png\"\n        srcset=\"/static/73ff5d02ee9017956ed6adc7f46a688c/c26ae/issue.png 158w,\n/static/73ff5d02ee9017956ed6adc7f46a688c/6bdcf/issue.png 315w,\n/static/73ff5d02ee9017956ed6adc7f46a688c/f96db/issue.png 470w\"\n        sizes=\"(max-width: 470px) 100vw, 470px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>.</p>\n<p>The error message:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Error: Expected identifier\r\ncode: 800A03F2\r\nSource: Microsoft JScript compilation error</code></pre></div>\n<p>If I run with <code class=\"language-text\">node node_modules\\clang-format-launcher\\dist\\index.js</code>, then everything looks good.</p>\n<p>I spent half an hour to investigate it, finally I found that the clang-format-launcher.bat is not emitted correct.</p>\n<p>It’s</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">\"%~dp0\\node_modules\\clang-format-launcher\\dist\\index.js\"   %*</code></pre></div>\n<p>but it should be</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">@IF EXIST \"%~dp0\\node.exe\" (\r\n  \"%~dp0\\node.exe\"  \"%~dp0\\node_modules\\clang-format-launcher\\dist\\index.js\" %*\r\n) ELSE (\r\n  node  \"%~dp0\\node_modules\\clang-format-launcher\\dist\\index.js\" %*\r\n)</code></pre></div>\n<p>After I revisit the document\r\n<a href=\"https://docs.npmjs.com/cli/v6/configuring-npm/package-json#bin\">package bin</a>,</p>\n<blockquote>\n<p>Please make sure that your file(s) referenced in bin starts with #!/usr/bin/env node, otherwise the scripts are started without the node executable!</p>\n</blockquote>","frontmatter":{"title":"'Microsoft JScript compilation error' when running npx","date":"December 04, 2021","description":"bin field in your package.json which is a map of command name to local file name. which doesn't work if you are mssing #!/usr/bin/env node"}},"previous":{"fields":{"slug":"/gatsby-profile-issue/"},"frontmatter":{"title":"Issue of mixing @wkocjan/gatsby-theme-intro with gatsby-starter-blog"}},"next":{"fields":{"slug":"/js-data-structure/"},"frontmatter":{"title":"JavaScript Data Structures and Algorithm.pdf"}}},"pageContext":{"id":"2b86dadf-7be9-5809-93eb-03108ab2b6bc","previousPostId":"de503479-d892-5586-9eb4-e69b32ccfa7a","nextPostId":"68e788eb-6a4a-550d-ba04-c075c14a0b38"}},
    "staticQueryHashes": ["2841359383","3257411868"]}